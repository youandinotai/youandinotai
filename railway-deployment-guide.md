# Railway Free Deployment for U&I Dating App

## Your Current Setup ✅
- Domain: u-and-i-not-a-i.online
- DNS: IONOS name servers (ns1018.ui-dns.org, ns1086.ui-dns.de, etc.)
- App: 100% functional dating app with Stripe payments

## Step 1: Prepare GitHub Repository

```bash
# Initialize git repository
git init
git add .
git commit -m "U&I Dating App - Initial deployment"

# Create GitHub repository and push
git remote add origin https://github.com/YOUR_USERNAME/u-and-i-dating-app.git
git branch -M main
git push -u origin main
```

## Step 2: Deploy to Railway (Free)

1. **Create Railway Account**
   - Go to: https://railway.app/
   - Sign up with GitHub (instant login)

2. **Create New Project**
   - Click "New Project"
   - Select "Deploy from GitHub repo"
   - Choose your u-and-i-dating-app repository

3. **Add PostgreSQL Database**
   - In Railway dashboard, click "New"
   - Select "Database" → "PostgreSQL"
   - Database will be auto-configured

4. **Configure Environment Variables**
   - Click on your web service
   - Go to "Variables" tab
   - Add these variables:

```env
NODE_ENV=production
STRIPE_SECRET_KEY=sk_test_your_stripe_test_key_here
VITE_STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key_here
SESSION_SECRET=u-and-i-not-ai-super-secret-session-key-2025
```

5. **Get Your Railway URL**
   - Your app will deploy automatically
   - Railway provides a URL like: `your-app-name.railway.app`

## Step 3: Configure IONOS DNS

Since you're using IONOS name servers, configure DNS in your IONOS control panel:

1. **Login to IONOS**
   - Go to: https://my.ionos.com/
   - Login with: joshlcoleman@gmail.com

2. **Add CNAME Record**
   - Navigate to: Domains & SSL → u-and-i-not-a-i.online → DNS
   - Add new record:
     ```
     Type: CNAME
     Name: @
     Value: your-app-name.railway.app
     TTL: 3600
     ```

3. **Add WWW Record**
   - Add another CNAME record:
     ```
     Type: CNAME
     Name: www
     Value: your-app-name.railway.app
     TTL: 3600
     ```

## Step 4: Configure Custom Domain in Railway

1. **Add Custom Domain**
   - In Railway dashboard, click your web service
   - Go to "Settings" tab
   - Scroll to "Domains"
   - Click "Custom Domain"
   - Enter: `u-and-i-not-a-i.online`

2. **Verify Domain**
   - Railway will verify your DNS configuration
   - SSL certificate will be automatically generated
   - Domain will be live in 5-15 minutes

## Step 5: Get Stripe Test Keys

1. **Create Stripe Account**
   - Go to: https://stripe.com/
   - Sign up for free account

2. **Get API Keys**
   - Dashboard → Developers → API keys
   - Copy "Publishable key" (pk_test_...) for VITE_STRIPE_PUBLIC_KEY
   - Copy "Secret key" (sk_test_...) for STRIPE_SECRET_KEY

3. **Update Railway Variables**
   - Go back to Railway dashboard
   - Update the Stripe environment variables with real keys

## Your Free Hosting Benefits

### Railway Free Tier:
- ✅ 500 execution hours per month
- ✅ Shared vCPU and 512MB RAM
- ✅ PostgreSQL database included
- ✅ Custom domain with SSL
- ✅ Automatic deployments from GitHub
- ✅ No credit card required

### What's Included:
- ✅ User authentication system
- ✅ Profile discovery and matching
- ✅ Unlimited messaging
- ✅ Premium subscriptions ($9.99/week)
- ✅ Merchandise store
- ✅ Mobile-responsive PWA
- ✅ Professional SSL certificate

## Monitoring Your App

### Railway Dashboard:
- **Deployments**: Track build status
- **Logs**: Monitor application logs
- **Metrics**: CPU and memory usage
- **Database**: PostgreSQL management

### Your Live URLs:
- **Staging**: `your-app-name.railway.app`
- **Production**: `https://u-and-i-not-a-i.online`

## Upgrade Path (Optional)

When you get users and need more resources:

### Railway Pro ($5/month):
- 500 hours → Unlimited
- Priority support
- More concurrent builds
- Advanced metrics

### Database Scaling:
- Railway Pro: Shared → Dedicated PostgreSQL
- Alternative: Upgrade to Neon/PlanetScale paid plans

## Troubleshooting

### Common Issues:

1. **Build Failures**
   - Check Railway logs in dashboard
   - Ensure package.json has correct build scripts
   - Verify Node.js version compatibility

2. **Database Connection**
   - DATABASE_URL is auto-generated by Railway
   - Check environment variables in dashboard
   - Verify database service is running

3. **Domain Not Working**
   - DNS propagation takes 1-24 hours
   - Verify CNAME records in IONOS
   - Check Railway domain configuration

4. **Stripe Payments**
   - Use test keys (sk_test_, pk_test_) for development
   - Switch to live keys when ready for production
   - Test with Stripe test card numbers

## Success Checklist

- [ ] GitHub repository created and pushed
- [ ] Railway project deployed successfully
- [ ] PostgreSQL database connected
- [ ] Environment variables configured
- [ ] IONOS DNS CNAME records added
- [ ] Custom domain configured in Railway
- [ ] Stripe test keys added
- [ ] App accessible at u-and-i-not-a-i.online
- [ ] All features working (auth, matching, messaging, payments)

Your dating app will be live and fully functional within 30 minutes of completing these steps!